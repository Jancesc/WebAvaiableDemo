window.__require=function e(o,t,n){function i(s,r){if(!t[s]){if(!o[s]){var u=s.split("/");if(u=u[u.length-1],!o[u]){var l="function"==typeof __require&&__require;if(!r&&l)return l(u,!0);if(c)return c(u,!0);throw new Error("Cannot find module '"+s+"'")}s=u}var a=t[s]={exports:{}};o[s][0].call(a.exports,function(e){return i(o[s][1][e]||e)},a,a.exports,e,o,t,n)}return t[s].exports}for(var c="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({AudioMgr:[function(e,o){"use strict";cc._RF.push(o,"48373wmk8FAU5QmOfUwg7e3","AudioMgr"),cc._RF.pop()},{}],Test2:[function(e,o,t){"use strict";cc._RF.push(o,"91d14euzCdIxoRGC/Gr9swn","Test2");var n,i=this&&this.__extends||(n=function(e,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])})(e,o)},function(e,o){function t(){this.constructor=e}n(e,o),e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}),c=this&&this.__decorate||function(e,o,t,n){var i,c=arguments.length,s=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,o,t,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(c<3?i(s):c>3?i(o,t,s):i(o,t))||s);return c>3&&s&&Object.defineProperty(o,t,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,u=s.property,l=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.playButton=null,o.audioClip=null,o.isAudioSystemReset=!0,o.playingAudios=new Map,o._testAudioId=-1,o}return i(o,e),o.prototype.onLoad=function(){var e=this;cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_IOS&&cc.game.on(cc.game.EVENT_GAME_INITED,function(){cc.game.on(cc.game.EVENT_SHOW,e.handleGameShow,e),cc.game.on(cc.game.EVENT_HIDE,e.handleGameHide,e)}),this.playButton&&this.playButton.node.on("click",this.onPlayButtonClick,this)},o.prototype.handleGameShow=function(){var e=this;console.log("\u5e94\u7528\u6062\u590d\u5230\u524d\u53f0");var o=cc.audioEngine.getState(this._testAudioId);console.log("\u5f53\u524d\u6d4b\u8bd5\u97f3\u9891ID="+this._testAudioId+", \u72b6\u6001="+o);var t=cc.audioEngine._id2audio[this._testAudioId],n=cc.sys.__audioSupport.context;console.log("show \u5f53\u524dAudioContext\u72b6\u6001:",n.state),console.log("\u5f53\u524d\u6d4b\u8bd5\u97f3\u9891\u4fe1\u606f:",t),this.isAudioSystemReset=!1,this.scheduleOnce(function(){if(n.resume(),"suspended"===n.state){console.log("\u5c1d\u8bd5\u6062\u590d suspended \u72b6\u6001"),(null==t?void 0:t._sourceNode)&&(t._sourceNode.disconnect(),console.log("\u5df2\u65ad\u5f00\u65e7\u97f3\u9891\u8282\u70b9\u8fde\u63a5"));var o=n.createBufferSource();console.log("\u521b\u5efa\u65b0\u7684\u97f3\u9891\u6e90\u8282\u70b9 newSource: ",o),console.log("\u8bbe\u7f6e\u97f3\u9891\u6e90 buffer: ",t._element._buffer),o.buffer=t._element._buffer,console.log("\u8bbe\u7f6e\u97f3\u9891\u6e90 _gainObj: ",t._element._gainObj),o.connect(t._element._gainObj),o.loop=t._element._loop,t._sourceNode=o,n.resume().then(function(){console.log("AudioContext resumed\uff0c\u5c1d\u8bd5\u91cd\u65b0\u64ad\u653e");var t=cc.audioEngine.getCurrentTime(e._testAudioId);o.start(0,t)}).catch(function(e){console.error("\u6062\u590d\u5931\u8d25:",e)})}else n.resume()},.1)},o.prototype.handleGameHide=function(){console.log("\u5e94\u7528\u8fdb\u5165\u540e\u53f0");var e=cc.audioEngine.getState(this._testAudioId);console.log("\u5f53\u524d\u6d4b\u8bd5\u97f3\u9891ID="+this._testAudioId+", \u72b6\u6001="+e)},o.prototype.rebuildAudioSystem=function(){console.log("\u5f00\u59cb\u91cd\u5efa\u97f3\u9891\u7cfb\u7edf");try{var e=cc.sys.__audioSupport.context;if(e){console.log("\u5f53\u524d AudioContext \u72b6\u6001:",e.state);try{e.close&&(e.close(),console.log("\u5df2\u5173\u95ed\u65e7 AudioContext"))}catch(o){console.error("\u5173\u95ed\u65e7 AudioContext \u5931\u8d25:",o)}}console.log("\u521b\u5efa\u65b0\u7684 AudioContext"),window.AudioContext&&(cc.sys.__audioSupport.context=new AudioContext,console.log("\u65b0 AudioContext \u521b\u5efa\u6210\u529f\uff0c\u72b6\u6001:",cc.sys.__audioSupport.context.state),this.isAudioSystemReset=!0,console.log("\u97f3\u9891\u7cfb\u7edf\u91cd\u5efa\u5b8c\u6210\uff0c\u4e0b\u6b21\u64ad\u653e\u5e94\u8be5\u6b63\u5e38"))}catch(o){console.error("\u91cd\u5efa\u97f3\u9891\u7cfb\u7edf\u5931\u8d25:",o)}},o.prototype.onPlayButtonClick=function(){console.log("\u64ad\u653e\u6309\u94ae\u70b9\u51fb"),this.playAudio()},o.prototype.playAudio=function(){var e=this;try{var o=cc.audioEngine.playEffect(this.audioClip,!1);if(console.log("\u97f3\u9891\u5f00\u59cb\u64ad\u653e\uff0cID:",o),o){cc.audioEngine.setFinishCallback(o,function(){console.log("\u97f3\u9891\u64ad\u653e\u5b8c\u6210\uff0cID:",o),e._testAudioId=-1});var t=cc.audioEngine.getDuration(o);console.log("\u97f3\u9891ID="+o+"\uff0c\u65f6\u957f="+t),this._testAudioId=o,this.scheduleOnce(function(){try{var e=cc.audioEngine.getState(o);console.log("\u97f3\u9891"+o+"\u72b6\u6001:",e),e!==cc.audioEngine.AudioState.PLAYING&&console.warn("\u97f3\u9891\u53ef\u80fd\u6ca1\u6709\u6b63\u5e38\u64ad\u653e")}catch(t){console.error("\u68c0\u67e5\u97f3\u9891\u72b6\u6001\u5931\u8d25:",t)}},.2)}else console.error("\u97f3\u9891\u64ad\u653e\u5931\u8d25\uff0c\u65e0\u6548\u7684audioId")}catch(n){console.error("\u64ad\u653e\u97f3\u9891\u51fa\u9519:",n),cc.sys.os===cc.sys.OS_IOS&&(console.log("\u64ad\u653e\u5931\u8d25\uff0c\u5c1d\u8bd5\u91cd\u5efa\u7cfb\u7edf"),this.rebuildAudioSystem())}},o.prototype.onResume=function(){console.log("\u624b\u52a8\u6062\u590d\u6309\u94ae\u70b9\u51fb");var e=cc.sys.__audioSupport.context,o=cc.audioEngine._id2audio[this._testAudioId];e==o._element._context&&console.log("\u5f53\u524d\u97f3\u9891\u4e0a\u4e0b\u6587\u4e0e\u5168\u5c40\u4e00\u81f4\uff0c\u5c1d\u8bd5\u6062\u590d"),console.log("\u5f53\u524dAudioContext\u72b6\u6001:",e.state),"interrupted"===o._element._context.state&&(console.log("\u97f3\u9891\u7cfb\u7edf\u4e2d\u65ad\uff0c\u5c1d\u8bd5\u6062\u590d"),o._element._context.resume()),e.resume()},o.prototype.onReplay=function(){var e=cc.audioEngine.playEffect(this.audioClip,!1);cc.audioEngine.setFinishCallback(e,function(){console.log("\u97f3\u9891\u64ad\u653e\u5b8c\u6210\uff0cID:",e)}),cc.audioEngine.setCurrentTime(e,2)},o.prototype.onDestroy=function(){cc.game.off(cc.game.EVENT_SHOW,this.handleGameShow,this),cc.game.off(cc.game.EVENT_HIDE,this.handleGameHide,this)},c([u(cc.Button)],o.prototype,"playButton",void 0),c([u(cc.AudioClip)],o.prototype,"audioClip",void 0),c([r],o)}(cc.Component);t.default=l,cc._RF.pop()},{}],Test3:[function(e,o,t){"use strict";cc._RF.push(o,"364a0LTL+NObrYHvz2JIiVO","Test3");var n,i=this&&this.__extends||(n=function(e,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])})(e,o)},function(e,o){function t(){this.constructor=e}n(e,o),e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}),c=this&&this.__decorate||function(e,o,t,n){var i,c=arguments.length,s=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,o,t,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(c<3?i(s):c>3?i(o,t,s):i(o,t))||s);return c>3&&s&&Object.defineProperty(o,t,s),s},s=this&&this.__awaiter||function(e,o,t,n){return new(t||(t=Promise))(function(i,c){function s(e){try{u(n.next(e))}catch(o){c(o)}}function r(e){try{u(n.throw(e))}catch(o){c(o)}}function u(e){var o;e.done?i(e.value):(o=e.value,o instanceof t?o:new t(function(e){e(o)})).then(s,r)}u((n=n.apply(e,o||[])).next())})},r=this&&this.__generator||function(e,o){var t,n,i,c,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return c={next:r(0),throw:r(1),return:r(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function r(e){return function(o){return u([e,o])}}function u(c){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,n&&(i=2&c[0]?n.return:c[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,c[1])).done)return i;switch(n=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,n=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){s.label=c[1];break}if(6===c[0]&&s.label<i[1]){s.label=i[1],i=c;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(c);break}i[2]&&s.ops.pop(),s.trys.pop();continue}c=o.call(e,s)}catch(r){c=[6,r],n=0}finally{t=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0});var u=cc._decorator,l=u.ccclass,a=u.property,d=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.playButton=null,o.audioClip=null,o.BgClip=null,o.tipAudioUI=null,o._testAudioId=-1,o.playingAudios=new Array,o}return i(o,e),o.prototype.onLoad=function(){var e=this;cc.sys.isBrowser&&cc.sys.os===cc.sys.OS_IOS&&cc.game.on(cc.game.EVENT_GAME_INITED,function(){cc.game.on(cc.game.EVENT_SHOW,e.handleGameShow,e),cc.game.on(cc.game.EVENT_HIDE,e.handleGameHide,e)})},o.prototype.handleGameShow=function(){var e=this;if(console.log("\u5e94\u7528\u6062\u590d\u5230\u524d\u53f0"),cc.sys.os===cc.sys.OS_IOS&&cc.sys.isBrowser&&cc.sys.isMobile){var o=cc.sys.__audioSupport.context;console.log("\u5f53\u524d\u97f3\u9891\u4e0a\u4e0b\u6587\u72b6\u6001: "+o.state),"suspended"===o.state?(this.savePlayingAudios(),this.rebuildAudioSystem().then(function(){e._showTipAudioUI()})):"interrupted"===o.state&&(console.log("\u666e\u901a\u6062\u590d"),setTimeout(function(){o.resume()},50))}},o.prototype.handleGameHide=function(){if(console.log("\u5e94\u7528\u8fdb\u5165\u540e\u53f0"),-1!=this._testAudioId){var e=cc.audioEngine.getState(this._testAudioId);console.log("\u5f53\u524d\u6d4b\u8bd5\u97f3\u9891ID="+this._testAudioId+", \u72b6\u6001="+e)}if(-1!=this._bgAudioId){var o=cc.audioEngine.getState(this._bgAudioId);console.log("\u5f53\u524d\u6d4b\u8bd5\u97f3\u9891ID="+this._bgAudioId+", \u72b6\u6001="+o)}},o.prototype.savePlayingAudios=function(){this.playingAudios.length=0;var e=Object.keys(cc.audioEngine._id2audio);console.log("\u68c0\u67e5 "+e.length+" \u4e2a\u97f3\u9891\u72b6\u6001");for(var o=0,t=e;o<t.length;o++){var n=t[o],i=parseInt(n);if(cc.audioEngine.getState(i)===cc.audioEngine.AudioState.PLAYING){var c=cc.audioEngine._id2audio[i];this.playingAudios.push({id:i,clip:c._src,loop:c._element._loop,volume:c._element._volume,currentTime:c._element.currentTime,finishCallback:c._finishCallback})}}for(var s=0,r=this.playingAudios;s<r.length;s++){var u=r[s];console.log("\u4fdd\u5b58\u97f3\u9891\u72b6\u6001: ID="+u.id+", \u65f6\u95f4="+u.currentTime+", \u5faa\u73af="+u.loop+", \u97f3\u91cf="+u.volume+", \u56de\u8c03="+(u.finishCallback?"\u6709":"\u65e0"))}},o.prototype.restorePausedAudios=function(){if(0!==this.playingAudios.length){console.log("\u51c6\u5907\u6062\u590d "+this.playingAudios.length+" \u4e2a\u97f3\u9891");for(var e=0,o=this.playingAudios;e<o.length;e++){var t=o[e];if(console.log("\u6062\u590d\u97f3\u9891\u72b6\u6001: ID="+t.id+", \u65f6\u95f4="+t.currentTime+", \u5faa\u73af="+t.loop+", \u97f3\u91cf="+t.volume+", \u56de\u8c03="+(t.finishCallback?"\u6709":"\u65e0")),t.clip){var n=cc.audioEngine.play(t.clip,t.loop,t.volume);t.currentTime>0&&cc.audioEngine.setCurrentTime(n,t.currentTime),t.finishCallback&&cc.audioEngine.setFinishCallback(n,t.finishCallback)}else console.log("\u97f3\u9891\u6ca1\u6709\u53ef\u7528\u7684clip, \u8df3\u8fc7")}this.playingAudios.length=0}else console.log("\u6ca1\u6709\u9700\u8981\u6062\u590d\u7684\u97f3\u9891")},o.prototype.rebuildAudioSystem=function(){return s(this,void 0,void 0,function(){return r(this,function(){return console.log("\u5f00\u59cb\u91cd\u5efa\u97f3\u9891\u7cfb\u7edf"),[2,new Promise(function(e,o){setTimeout(function(){try{var t=cc.sys.__audioSupport.context;if(t&&t.close&&(t.close(),console.log("\u5df2\u5173\u95ed\u65e7 AudioContext")),console.log("\u521b\u5efa\u65b0\u7684 AudioContext"),window.AudioContext){var n=cc.sys.__audioSupport;n.WEB_AUDIO&&(n.context=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext),n.DELAY_CREATE_CTX&&setTimeout(function(){n.context=new(window.AudioContext||window.webkitAudioContext||window.mozAudioContext)},0)),console.log("\u65b0 AudioContext \u521b\u5efa\u6210\u529f\uff0c\u72b6\u6001:",cc.sys.__audioSupport.context.state)}e(!0)}catch(i){console.error("\u91cd\u5efa\u97f3\u9891\u7cfb\u7edf\u5931\u8d25:",i),o(i)}},50)})]})})},o.prototype.onPlayButtonClick=function(){console.log("\u64ad\u653e\u6309\u94ae\u70b9\u51fb");var e=cc.audioEngine.playEffect(this.audioClip,!1);cc.audioEngine.setFinishCallback(e,function(){console.log("\u97f3\u9891\u64ad\u653e\u5b8c\u6210\uff0cID:",e)})},o.prototype.onPlayBgButtonClick=function(){var e=this;console.log("\u64ad\u653e\u80cc\u666f\u97f3\u4e50\u6309\u94ae\u70b9\u51fb"),this._bgAudioId=cc.audioEngine.play(this.BgClip,!0,1),cc.audioEngine.setFinishCallback(this._bgAudioId,function(){console.log("\u80cc\u666f\u97f3\u4e50\u64ad\u653e\u5b8c\u6210\uff0cID:",e._bgAudioId)})},o.prototype._showTipAudioUI=function(){var e=this,o=cc.director.getScene().getChildByName("Canvas"),t=cc.instantiate(this.tipAudioUI);t.parent=o,t.setPosition(0,0),t.on(cc.Node.EventType.TOUCH_START,function(){e.restorePausedAudios(),t.destroy()})},o.prototype.onResume=function(){console.log("\u624b\u52a8\u6062\u590d\u6309\u94ae\u70b9\u51fb"),this.restorePausedAudios()},o.prototype.onReplay=function(){var e=cc.audioEngine.playEffect(this.audioClip,!1);cc.audioEngine.setFinishCallback(e,function(){console.log("\u97f3\u9891\u64ad\u653e\u5b8c\u6210\uff0cID:",e)}),cc.audioEngine.setCurrentTime(e,2)},o.prototype.onDestroy=function(){cc.game.off(cc.game.EVENT_SHOW,this.handleGameShow,this),cc.game.off(cc.game.EVENT_HIDE,this.handleGameHide,this)},c([a(cc.Button)],o.prototype,"playButton",void 0),c([a(cc.AudioClip)],o.prototype,"audioClip",void 0),c([a(cc.AudioClip)],o.prototype,"BgClip",void 0),c([a(cc.Prefab)],o.prototype,"tipAudioUI",void 0),c([l],o)}(cc.Component);t.default=d,cc._RF.pop()},{}],Test:[function(e,o,t){"use strict";cc._RF.push(o,"d1ea53aLRNMDrA5bw+9aNYa","Test");var n,i=this&&this.__extends||(n=function(e,o){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)Object.prototype.hasOwnProperty.call(o,t)&&(e[t]=o[t])})(e,o)},function(e,o){function t(){this.constructor=e}n(e,o),e.prototype=null===o?Object.create(o):(t.prototype=o.prototype,new t)}),c=this&&this.__decorate||function(e,o,t,n){var i,c=arguments.length,s=c<3?o:null===n?n=Object.getOwnPropertyDescriptor(o,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,o,t,n);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(s=(c<3?i(s):c>3?i(o,t,s):i(o,t))||s);return c>3&&s&&Object.defineProperty(o,t,s),s};Object.defineProperty(t,"__esModule",{value:!0});var s=cc._decorator,r=s.ccclass,u=s.property,l=function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o._resumeAttempts=0,o._maxResumeAttempts=3,o._resumeTimer=null,o.audioClip=null,o}return i(o,e),o.prototype.onLoad=function(){window.addEventListener("pageshow",this.onPageShow.bind(this),!0),cc.game.on(cc.game.EVENT_SHOW,this.onGameShow.bind(this)),cc.game.on(cc.game.EVENT_HIDE,this.onGameHide.bind(this))},o.prototype.onPageShow=function(e){console.log("pageshow\u4e8b\u4ef6\u89e6\u53d1",e.persisted),e.persisted&&cc.sys.os===cc.sys.OS_IOS&&(this.clearResumeTimer(),this._resumeAttempts=0,this.onResume(),this.scheduleResumeAttempts())},o.prototype.onGameShow=function(){console.log("Game.EVENT_SHOW"),cc.sys.os===cc.sys.OS_IOS&&(this.clearResumeTimer(),this._resumeAttempts=0,this.onResume(),this.scheduleResumeAttempts())},o.prototype.onGameHide=function(){console.log("Game.EVENT_HIDE"),this.clearResumeTimer()},o.prototype.scheduleResumeAttempts=function(){var e=this;this._resumeTimer=setTimeout(function(){e._resumeAttempts++,e._resumeAttempts<e._maxResumeAttempts&&(console.log("\u7b2c"+e._resumeAttempts+"\u6b21\u5c1d\u8bd5\u6062\u590dAudioContext"),e.onResume(),e.scheduleResumeAttempts())},300*(this._resumeAttempts+1))},o.prototype.clearResumeTimer=function(){this._resumeTimer&&(clearTimeout(this._resumeTimer),this._resumeTimer=null)},o.prototype.start=function(){},o.prototype.onDestroy=function(){this.clearResumeTimer(),window.removeEventListener("pageshow",this.onPageShow.bind(this),!0),cc.game.off(cc.game.EVENT_SHOW,this.onGameShow,this),cc.game.off(cc.game.EVENT_HIDE,this.onGameHide,this)},o.prototype.play=function(){var e=this;if(cc.sys.os===cc.sys.OS_IOS){var o=cc.sys.__audioSupport.context;!o||"suspended"!==o.state&&"interrupted"!==o.state?this.doPlay():(console.log("\u64ad\u653e\u524d\u6062\u590dAudioContext"),o.resume().then(function(){e.doPlay()}).catch(function(o){console.error("\u64ad\u653e\u524d\u6062\u590dAudioContext\u5931\u8d25:",o),e.forceResumeAudioContext(),setTimeout(function(){return e.doPlay()},100)}))}else this.doPlay()},o.prototype.doPlay=function(){var e=cc.audioEngine.playEffect(this.audioClip,!1);console.log("audioId play:",e),e?(cc.audioEngine.setVolume(e,1),cc.audioEngine.setEffectsVolume(1),cc.audioEngine.setFinishCallback(e,function(){console.log("audio play finish")})):console.error("\u97f3\u9891\u64ad\u653e\u5931\u8d25\uff0c\u65e0\u6548\u7684audioId")},o.prototype.onResume=function(){var e=this,o=cc.sys.__audioSupport.context;o?(console.log("\u5f53\u524dAudioContext\u72b6\u6001:",o.state),"suspended"===o.state||"interrupted"===o.state?(console.log("\u6062\u590d\u5168\u5c40AudioContext"),o.resume().then(function(){console.log("\u5168\u5c40AudioContext\u6062\u590d\u6210\u529f"),e.forceResumeAudioContext(),e.resumePlayingAudio()}).catch(function(o){console.error("\u6062\u590dAudioContext\u5931\u8d25:",o),e.forceResumeAudioContext()})):(console.log("AudioContext\u72b6\u6001\u5df2\u6b63\u5e38:",o.state),this.resumePlayingAudio())):console.warn("\u627e\u4e0d\u5230\u5168\u5c40AudioContext")},o.prototype.forceResumeAudioContext=function(){try{var e=cc.sys.__audioSupport.context;if(!e)return;var o=e.createOscillator(),t=e.createGain();t.gain.value=.01,o.connect(t),t.connect(e.destination),o.start(0),setTimeout(function(){try{o.stop(),o.disconnect(),t.disconnect()}catch(e){}},100),console.log("\u5f3a\u5236\u5524\u9192AudioContext\u5b8c\u6210")}catch(n){console.error("\u5f3a\u5236\u5524\u9192AudioContext\u5931\u8d25:",n)}},o.prototype.resumePlayingAudio=function(){var e=Object.keys(cc.audioEngine._id2audio);if(console.log("\u6062\u590d\u97f3\u9891\u72b6\u6001\u68c0\u67e5, \u5f53\u524d\u97f3\u9891\u6570:",e.length),0!==e.length)for(var o=0,t=e;o<t.length;o++){var n=t[o],i=cc.audioEngine._id2audio[n];if(i&&i._element){var c=i._state;if(console.log("\u97f3\u9891ID: "+n+", \u72b6\u6001: "+c),c===cc.audioEngine.AudioState.PLAYING&&(i._element.paused||null===i._element._currentSource&&i._element._context)){console.log("\u6062\u590d\u64ad\u653e\u97f3\u9891: "+n);try{var s=i.getVolume();i.setVolume(s),i.resume()}catch(r){console.error("\u6062\u590d\u97f3\u9891"+n+"\u5931\u8d25:",r)}}}}},c([u(cc.AudioClip)],o.prototype,"audioClip",void 0),c([r],o)}(cc.Component);t.default=l,cc._RF.pop()},{}]},{},["AudioMgr","Test","Test2","Test3"]);
//# sourceMappingURL=index.js.map
